class ScienceOrchestrator:

    def __init__(self, agents, memory):
        self.agents = agents
        self.memory = memory

    def run(self, problem, iterations = 3):
        context = {'problem': problem}

        for i in range(iterations):
            h = self.agents['hypothesis'].run(context)
            p = self.agents['planner'].run(h)
            e = self.agents['executor'].run(p)
            a = self.agents['analyzer'].run(e)
            c = self.agents['critic'].run({
                'hypothesis': h,
                'plan': p,
                'execution': e,
                'analysis': a
            })

            self.memory_log({
                'iteration': i,
                'hypothesis': h,
                'plan': p.
                'execution': e,
                'analysis': a,
                'critique': c
            })

            context['feedback'] = c
